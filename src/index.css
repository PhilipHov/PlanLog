:root { --bg:#0b1220; --panel:#101826; --panel2:#0f172a; --border:#1f2a44; --text:#e6edf6; --muted:#9fb0c9; --ok:#22c55e; --warn:#eab308; --bad:#ef4444; --blue:#3b82f6; }
*{box-sizing:border-box}
html,body,#root{height:100%;margin:0}
body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}

/* Fade animation for tab switching */
@keyframes fadein {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Kortet fylder hele scenen */
.stage{
  position:relative;
  height:100vh;
  width:100vw;
  overflow:hidden;
}

/* Leaflet container fylder hele containeren */
.leaflet-container {
  width: 100%;
  height: 100%;
}

/* Leaflet container som bundlag i stage */
.stage .leaflet-container{
  position:absolute;
  inset:0;
}

/* Keep Leaflet UI below the glass bar */
.leaflet-top,
.leaflet-bottom {
  z-index: 900 !important;
}

.leaflet-control {
  z-index: 900 !important;
}

/* Sidebar som overlay ovenpå kortet */
.sidebar-overlay{
  position:absolute;
  top:16px;
  left:16px;
  width:360px;
  border-radius:14px;
  padding:12px;
  z-index:500;
  background:rgba(13,23,42,.62);
  backdrop-filter:blur(10px) saturate(140%);
  -webkit-backdrop-filter:blur(10px) saturate(140%);
  border:1px solid rgba(255,255,255,.08);
  box-shadow:0 10px 30px rgba(0,0,0,.25);
  color:#e6edf7;
}

/* Indhold */
.sidebar-overlay .brand{
  display:flex;
  align-items:center;
  gap:10px;
  font-weight:800;
  letter-spacing:.4px;
  margin:4px 2px 10px;
}
.sidebar-overlay .tag{
  font-size:12px;
  color:#bcd3ff;
  background:rgba(80,120,255,.18);
  border:1px solid rgba(80,120,255,.35);
  padding:2px 8px;
  border-radius:9999px;
}

.sidebar-overlay .panel{
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.08);
  border-radius:12px;
  padding:12px;
}
.sidebar-overlay .label{
  font-size:13px;
  color:#aeb7c6;
  margin-bottom:6px;
}
.sidebar-overlay select{
  width:100%;
  height:42px;
  border-radius:10px;
  padding:0 10px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.08);
  color:#e6edf7;
  outline:none;
}
.sidebar-overlay .actions{display:flex;gap:10px;margin-top:10px}
.sidebar-overlay .btn{
  flex:1 1 0;
  height:38px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.10);
  color:#dbe7ff;
  cursor:pointer;
}
.sidebar-overlay .btn:hover{background:rgba(255,255,255,.16)}
.sidebar-overlay .btn.ghost{background:rgba(255,255,255,.05)}

/* Flyt Leaflet-zoomknapperne så de ikke kommer under overlay */
.leaflet-left{left:392px}
.h1{font-size:22px;font-weight:800;letter-spacing:.08em}
.sub{opacity:.75;margin-top:-4px;margin-bottom:10px}
.tabs{display:flex;gap:8px;margin:10px 0 14px}
/* Fin knap-stil */
.btn{border:1px solid var(--border);background:#0f1a34;color:#cfe3ff;border-radius:10px;padding:8px 12px;cursor:pointer;transition:background .2s ease,transform .1s ease}
.btn:hover{background:rgba(255,255,255,.1);transform:translateY(-1px)}
.btn.active{border-color:var(--blue)}
.section{background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:14px;padding:12px;margin-bottom:12px}
.section h3{font-size:15px;margin:4px 4px 10px}
.row{display:grid;grid-template-columns:1fr auto auto;gap:8px;align-items:center;padding:8px;border-radius:10px}
.row:nth-child(odd){background:rgba(255,255,255,.02)}
.label{color:#d2dbee}
.value{font-variant-numeric:tabular-nums}
.small{color:var(--muted);font-size:12px}
.tag{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid var(--border);background:#0f1a33;color:#9fb7ff;font-size:11px;margin-left:6px}
.kpi{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0}
.kpi .pill{background:#0d1a31;border:1px solid var(--border);border-radius:9px;padding:6px 10px;font-size:12px;color:#cbd5e1}
.input{width:90px;background:#0c1527;border:1px solid #22314f;color:#e5e7eb;border-radius:8px;padding:6px 8px;}
.sep{border:0;border-top:1px solid var(--border);margin:12px 0}
.map{height:100%}
.tools{display:flex;gap:8px;flex-wrap:wrap}
.tools .btn{padding:6px 10px}
.legend{display:flex;gap:6px;align-items:center}
.dot{width:9px;height:9px;border-radius:50%}
.sidebar .only-two{display:grid; gap:10px}
.sidebar select{border:1px solid var(--border);background:#0f1a34;color:#dbe7ff;padding:8px 10px;border-radius:10px}
/* --- Center modal --- */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.4);
  display:flex; align-items:center; justify-content:center; z-index:5000;
}
.modal-card{
  width:min(900px,92vw); max-height:84vh; overflow:auto;
  background:linear-gradient(180deg,#0f172a,#0b1324);
  border:1px solid #22314f; border-radius:16px; padding:18px;
  box-shadow:0 20px 60px rgba(0,0,0,.45);
}
.modal-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.modal-close{border:1px solid #2b3b5f;background:#0e1a33;color:#cfe3ff;border-radius:8px;padding:6px 10px;cursor:pointer}
/* Tabs i modal */
.tabbar{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
.tabbtn{border:1px solid var(--border);background:#0f1a34;color:#dbe7ff;border-radius:10px;padding:8px 12px;cursor:pointer}
.tabbtn.active{border-color:#3b82f6}
.kaserne-grid{display:grid;gap:12px}
@media (max-width: 1500px){ .kaserne-grid{ grid-template-columns: repeat(3, minmax(0,1fr)) !important; } }
@media (max-width: 1100px){ .kaserne-grid{ grid-template-columns: repeat(2, minmax(0,1fr)) !important; } }
@media (max-width: 700px){  .kaserne-grid{ grid-template-columns: 1fr !important; } }
